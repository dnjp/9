#!/bin/rc

ignore='tags|TAGS|node_modules|.git'
pattern=$*
for(file in `{walk ./ | grep -v $ignore}){
	isascii=`{ file $file | grep -v *.out | awk '{print $2}' | grep Ascii }
	if(1 = $isascii){
		grep -n $pattern $file | awk '{print "'^$file:^'"$0}'
	}
}
